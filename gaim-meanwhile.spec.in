
Name: @PACKAGE@
Obsoletes: meanwhile-gaim
Conflicts: gaim-meanwhile-static

Epoch: 0
Version: @VERSION@
Release: @RELEASE@

Summary: Meanwhile Gaim Plugin
License: GPL
Group: Applications/Internet
URL: http://meanwhile.sf.net/

Source0: %{name}-%{version}.tar.gz

BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-buildroot
BuildRequires: pkgconfig, libtool, glib2-devel, gaim-devel, meanwhile-devel

Requires: gaim >= 1:@GAIM_MIN@, gaim < 1:@GAIM_MAX@
Requires: meanwhile >= @MEANWHILE_MIN@, meanwhile < @MEANWHILE_MAX@


%description
Lotus Sametime Community Client library plugin for Gaim


%prep
%setup -q


%build
%configure --enable-static
%{__make} %{?_smp_flags}

%{__rm} -rf %{buildroot}
%{makeinstall}
rename libmwgaim libmwgaim-static %{buildroot}%{_libdir}/gaim/libmwgaim*

%configure
%{__make} %{?_smp_flags}


%install
%{makeinstall}
%{__rm} -f %{buildroot}%{_libdir}/gaim/libmwgaim*a


%clean
%{__rm} -rf %{buildroot}


%files
%defattr(-,root,root,-)
%{_libdir}/gaim/libmwgaim.so
%{_datadir}/pixmaps/gaim/status/default/meanwhile.png


%changelog
* Tue Apr 26 2005  <siege@preoccupied.net>
- Added static package and the appropriate Conflicts entries

* Tue Nov 09 2004  <siege@preoccupied.net>
- Replaced GAIM_VER,_CAP with GAIM_MIN,_MAX
- Added MEANWHILE_MIN,_MAX macros

* Mon Sep 13 2004  <siege@preoccupied.net>
- Replaced gaim dep versions with macros for GAIM_VER and GAIM_CAP

* Wed Jul 07 2004  <siege@preoccupied.net>
- Repackaged as gaim-meanwhile

* Tue Jun 29 2004  <siege@preoccupied.net>
- Release determined from configure script

* Sun Jun 27 2004  <siege@preoccupied.net>
- Now uses gaim-devel rather than gaim-source-dir

* Mon May 17 2004  <siege@preoccupied.net>
- further separated meanwhile-gaim into its own CVS module
- First distribution with autoconf/automake/libtool

* Tue Apr 13 2004  <siege@preoccupied.net> 
- Initial rpm build.



%package static
Conflicts: gaim-meanwhile
Obsoletes: meanwhile-gaim

Summary: Meanwhile Gaim Plugin
License: GPL
Group: Applications/Internet
URL: http://meanwhile.sf.net/

Requires: gaim >= 1:@GAIM_MIN@, gaim < 1:@GAIM_MAX@
BuildRequires: pkgconfig, libtool, glib2-devel, gaim-devel, meanwhile-devel


%description static
Lotus Sametime Community Client library plugin for Gaim.
This package statically includes the required Meanwhile library.


%files static
%defattr(-,root,root,-)
%{_libdir}/gaim/libmwgaim-static.so
%{_datadir}/pixmaps/gaim/status/default/meanwhile.png
